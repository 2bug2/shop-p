(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43e86dd0"],{1195:function(a,e){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+BAMAAAAQDbi7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURfjz8NTIvOPa0drQxe3l3/Pt6dJ8uJYAAAGKSURBVFjD7ZjNboMwEIT5vccxuZPS3qHJA4SouQPp+z9LkSJVBduw42mEqnrun9de744XoigoKCgoKCjoN5V/VI1Sp5eLH34d4YdePejPb3rUGQ+uJkIXiNVMJcanc35P8uAGEsVtwOQVVAWZyddkfOgAR5NXHZN+7AZs4YEE5DZcHZjsjyq44wMXYOe1f/c9FPg/wqdP4TXjHlD9sjzbfxnZ/3b/2Mn9q+H8y+5/cv8crPyppI4vv8DEwWuu/MV8vHH89En5K6jyBxrAwddU+QIF3Nv5jvMfTfa/3D+ilpx/soac3zJy/oyI7NkdsMD4lhp/LR4AfoQl3PeHkYAa5Xsm+0YNlzAf3ZnTz0poF/j/xl9/NoB+v2H0YPgHskJWWZ/fm8/WJ3uQvEB5pZzSb17WD/yIGdSK9h2FLy8gwJcWEOFuN0qUUGefzK/a6VGMK90t++2qCvHQ59BFNLK4deDCGxnoQX5+BQ3KF9T25y9yDPPTabbF+dKz9qwTSUPyOD59U7bmm634LwhiuCxbAoGfAAAAAElFTkSuQmCC"},1511:function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("van-row",[t("van-col",{attrs:{span:"6"},on:{click:a.openModel}},[t("img",{attrs:{src:a.avatarSrc,alt:""}})]),t("van-col",{attrs:{span:"10"}},[a._v(a._s(a.nickName))]),t("van-col",{attrs:{span:"8"}},[t("van-icon",{attrs:{name:"arrow"}})],1)],1),t("van-grid",{attrs:{"column-num":3}},[t("van-grid-item",{attrs:{icon:"coupon-o",text:"我的订单"},on:{click:a.iconClick}}),t("van-grid-item",{attrs:{icon:"bill-o",text:"优惠卷"},on:{click:a.iconClick}}),t("van-grid-item",{attrs:{icon:"bag-o",text:"礼品卡"},on:{click:a.iconClick}}),t("van-grid-item",{attrs:{icon:"location-o",text:"我的收藏"},on:{click:a.iconClick}})],1),a.showModal?t("div",{staticClass:"login_modal"},[t("section",{on:{click:a.closeModal}}),t("van-form",{on:{submit:a.onSubmit}},[t("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:a.username,callback:function(e){a.username=e},expression:"username"}}),t("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:a.password,callback:function(e){a.password=e},expression:"password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[a._v("提交")])],1)],1)],1):a._e()],1)},n=[],s=t("fd03"),c={data:function(){return{avatarSrc:t("1195"),username:"",password:"",showModal:!0,nickName:"点击登录"}},created:function(){var a=localStorage.getItem("token");if(a){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);this.avatarSrc=t.avatar,this.nickName=t.username,this.showModal=!1}},methods:{onSubmit:function(a){var e=this;Object(s["l"])({username:a["用户名"],pwd:a["密码"]}).then((function(a){if(console.log(a),0==a.errno){var t=a.data,o=t.userInfo,n=t.token,s=JSON.stringify(o);localStorage.setItem("token",n),localStorage.setItem("userInfo",s),e.$toast.success("登录成功"),e.avatarSrc=o.avatar,e.nickName=o.username,setTimeout((function(){e.closeModal()}),1e3)}else 602==a.errno&&e.$toast("密码错误")}))},closeModal:function(){this.showModal=!1},openModel:function(){var a=localStorage.getItem("token");a||(this.showModal=!0)},iconClick:function(){this.$toast.fail("该功能暂未开放")}}},i=c,r=(t("e26d"),t("2877")),l=Object(r["a"])(i,o,n,!1,null,"bb1947b8",null);e["default"]=l.exports},c92e:function(a,e,t){},e26d:function(a,e,t){"use strict";t("c92e")}}]);
//# sourceMappingURL=chunk-43e86dd0.fea8a9e0.js.map